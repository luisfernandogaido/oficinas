server {
    listen 80
    default_server;
    server_name _;
    root /var/www/html;
    index index.html index.php;
    location / {
        try_files $uri $uri/ =404;
    }
}

limit_req_zone $binary_remote_addr zone=gaido:10m rate=2r/s;

server {
    server_name gaido.dev;
    root /var/www/html/gaido;
    index index.html index.php;
    client_max_body_size 2048M;
    location / {
        # try_files $uri $uri/ =404;
        try_files $uri $uri/ /app/minidocs/response.php;
    }
    location ~ \.php$ {
        limit_req zone=gaido burst=16 nodelay;
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/gaido-access.log combined;
        error_log /var/log/nginx/gaido-error.log;

        fastcgi_param EMAIL_USER "luisfernandogaido@gmail.com";
        fastcgi_param EMAIL_PASS "wvzyyxmswjqunbrx";
        fastcgi_param EMAIL_NAME "Luís Fernando Gaido";
        fastcgi_param GAIDO_MYSQL_HOST "localhost";
        fastcgi_param GAIDO_MYSQL_USER "root";
        fastcgi_param GAIDO_MYSQL_PASS "1000sonhosreais";
        fastcgi_param GAIDO_MYSQL_BASE "gaido";
        fastcgi_param STORAGE_URL "https://storage.gaido.dev";
        fastcgi_param STORAGE_TOKEN "4hznjNYh";
    }

    location /app/entrar/entra.php {
        limit_req zone=gaido burst=1 nodelay;
    }

    location /app/entrar/index.php {
        limit_req zone=gaido burst=1 nodelay;
    }

    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }
    rewrite ^/home/(.*)$ /app/home.php?u=$1 last;

    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/gaido.dev/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/gaido.dev/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}
server {
    if ($host = gaido.dev) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    listen 80 ;
    server_name gaido.dev;
    return 404; # managed by Certbot
}

server {
    server_name itikawaimoveis.com.br;
    root /var/www/html/itikawa;
    index index.html index.php;
    client_max_body_size 32M;
    location / {
        try_files $uri $uri/ =404;
    }
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/itikawa-access.log combined;
        error_log /var/log/nginx/itikawa-error.log;
    }
    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }

    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/itikawaimoveis.com.br/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/itikawaimoveis.com.br/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}

server {
    if ($host = itikawaimoveis.com.br) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    listen 80 ;
    server_name itikawaimoveis.com.br;
    return 404; # managed by Certbot
}

server {
    server_name nutriacao.gaido.dev;
    root /var/www/html/nutriacao;
    index index.html index.php;
    client_max_body_size 25M;
    location / {
        try_files $uri $uri/ =404;
    }
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/nutriacao-access.log combined;
        error_log /var/log/nginx/nutriacao-error.log;
    }
    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }
    rewrite ^/home/(.*)$ /app/home.php?u=$1 last;

    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/nutriacao.gaido.dev/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/nutriacao.gaido.dev/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot

}

server {
    if ($host = nutriacao.gaido.dev) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    listen 80 ;
    server_name nutriacao.gaido.dev;
    return 404; # managed by Certbot
}

server {
    server_name cps.gaido.dev;
    root /var/www/html/nutriacao;
    index index.html index.php;
    client_max_body_size 20M;
    location / {
        try_files $uri $uri/ =404;
    }
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/cps-access.log combined;
        error_log /var/log/nginx/cps-error.log;
    }
    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }
    rewrite ^/home/(.*)$ /app/home.php?u=$1 last;
    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/cps.gaido.dev/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/cps.gaido.dev/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}

server {
    if ($host = cps.gaido.dev) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    server_name cps.gaido.dev;
    listen 80;
    return 404; # managed by Certbot
}

server {
    server_name files2.gaido.dev;
    root /var/www/html/files;
    index index.html;
    client_max_body_size 2048M;
    location / {
        try_files $uri $uri/ =404;
    }
    sendfile on;
    sendfile_max_chunk 1m;
    tcp_nopush on;
    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/files2.gaido.dev/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/files2.gaido.dev/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot

}
server {
    if ($host = files2.gaido.dev) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    listen 80;
    server_name files2.gaido.dev;
    return 404; # managed by Certbot
}

server {
    server_name agendaqui.gaido.dev;
    root /var/www/html/agendaqui;
    index index.html index.php;
    client_max_body_size 4M;
    location / {
        try_files $uri $uri/ =404;
    }
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/agendaqui-access.log combined;
        error_log /var/log/nginx/agendaqui-error.log;
    }
    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }
    rewrite ^/home/(.*)$ /app/home.php?u=$1 last;
    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/agendaqui.gaido.dev/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/agendaqui.gaido.dev/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}

server {
    if ($host = agendaqui.gaido.dev) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    server_name agendaqui.gaido.dev;
    listen 80;
    return 404; # managed by Certbot
}

server {
    server_name agendaqui.app;
    root /var/www/html/agendaqui;
    index index.html index.php;
    client_max_body_size 4M;
    location / {
        try_files $uri $uri/ =404;
    }
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/agendaqui-access.log combined;
        error_log /var/log/nginx/agendaqui-error.log;
    }
    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }
    rewrite ^/home/(.*)$ /app/home.php?u=$1 last;
}

server {
    server_name monitorlegislativo.com.br;
    root /var/www/html/federal;
    index index.html index.php;
    client_max_body_size 4M;
    location / {
        try_files $uri $uri/ =404;
    }
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/federal-access.log combined;
        error_log /var/log/nginx/federal-error.log;
    }
    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }
    rewrite ^/home/(.*)$ /app/home.php?u=$1 last;
    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/monitorlegislativo.com.br/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/monitorlegislativo.com.br/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}

server {
    if ($host = monitorlegislativo.com.br) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    server_name monitorlegislativo.com.br;
    listen 80;
    return 404; # managed by Certbot
}

server {
    server_name bestseller.gaido.dev;
    root /var/www/html/bestseller;
    index index.html index.php;
    client_max_body_size 20M;
    location / {
        try_files $uri $uri/ =404;
    }
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/bestseller-access.log combined;
        error_log /var/log/nginx/bestseller-error.log;
    }
    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }
    rewrite ^/home/(.*)$ /app/home.php?u=$1 last;
    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/bestseller.gaido.dev/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/bestseller.gaido.dev/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}

server {
    if ($host = bestseller.gaido.dev) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    server_name bestseller.gaido.dev;
    listen 80;
    return 404; # managed by Certbot
}

server {
    server_name cadastroaprovado.com.br;
    root /var/www/html/bestseller;
    index index.html index.php;
    client_max_body_size 20M;
    location / {
        try_files $uri $uri/ =404;
    }
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/bestseller-access.log combined;
        error_log /var/log/nginx/bestseller-error.log;

        fastcgi_param EMAIL_USER "luisfernandogaido@gmail.com";
        fastcgi_param EMAIL_PASS "wvzyyxmswjqunbrx";
        fastcgi_param EMAIL_NAME "Luís Fernando Gaido";
        fastcgi_param BESTSELLER_MYSQL_HOST "localhost";
        fastcgi_param BESTSELLER_MYSQL_USER "root";
        fastcgi_param BESTSELLER_MYSQL_PASS "1000sonhosreais";
        fastcgi_param BESTSELLER_MYSQL_BASE "bestseller";

    }
    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }
    rewrite ^/home/(.*)$ /app/home.php?u=$1 last;
    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/cadastroaprovado.com.br/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/cadastroaprovado.com.br/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}

server {
    if ($host = cadastroaprovado.com.br) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    server_name cadastroaprovado.com.br;
    listen 80;
    return 404; # managed by Certbot
}

server {
    server_name orcamento.gaido.dev;
    root /var/www/html/orcamento;
    index index.html index.php;
    client_max_body_size 20M;
    location / {
        try_files $uri $uri/ =404;
    }
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/orcamento-access.log combined;
        error_log /var/log/nginx/orcamento-error.log;
    }
    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }
    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/orcamento.gaido.dev/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/orcamento.gaido.dev/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}

server {
    if ($host = orcamento.gaido.dev) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    server_name orcamento.gaido.dev;
    listen 80;
    return 404; # managed by Certbot
}

server {
    server_name empresas.gaido.dev;
    root /var/www/html/empresas;
    index index.html index.php;
    client_max_body_size 20M;
    location / {
        try_files $uri $uri/ =404;
    }
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/empresas-access.log combined;
        error_log /var/log/nginx/empresas-error.log;
        fastcgi_param EMAIL_USER "lfgaido@hotmail.com";
        fastcgi_param EMAIL_PROVIDER "microsoft";
        fastcgi_param EMPRESAS_MYSQL_HOST "localhost";
        fastcgi_param EMPRESAS_MYSQL_USER "root";
        fastcgi_param EMPRESAS_MYSQL_PASS "1000sonhosreais";
        fastcgi_param EMPRESAS_MYSQL_BASE "empresas";
        fastcgi_param STORAGE_URL "https://storage.gaido.dev";
        fastcgi_param STORAGE_TOKEN "4hznjNYh";
    }
    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }
    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/empresas.gaido.dev/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/empresas.gaido.dev/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}

server {
    if ($host = empresas.gaido.dev) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    server_name empresas.gaido.dev;
    listen 80;
    return 404; # managed by Certbot
}

server {
    server_name profinanc.com.br;
    root /var/www/html/profinanc_site;
    index index.html index.php;
    client_max_body_size 20M;
    location / {
        try_files $uri $uri/ =404;
    }
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        access_log /var/log/nginx/profinancsite-access.log combined;
        error_log /var/log/nginx/profinancsite-error.log;
    }
    location ~* \.(js|css|png|jpg|jpeg|gif|svg|ico)$ {
        expires 15m;
        add_header Cache-Control "public, no-transform";
    }
    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/profinanc.com.br/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/profinanc.com.br/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}


server {
    if ($host = profinanc.com.br) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    server_name profinanc.com.br;
    listen 80;
    return 404; # managed by Certbot
}

server {
    server_name www.profinanc.com.br;
    return 301 https://profinanc.com.br$request_uri;


    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/www.profinanc.com.br/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/www.profinanc.com.br/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot

}

server {
    if ($host = www.profinanc.com.br) {
        return 301 https://$host$request_uri;
    } # managed by Certbot


    server_name www.profinanc.com.br;
    listen 80;
    return 404; # managed by Certbot


}